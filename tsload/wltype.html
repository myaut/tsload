<html>
<head>
	<meta http-equiv="Content-Type" content="text/html">
	<meta name="generator" content="TSDoc 0.2">
	
	<title>TSLoad Core API Reference</title>
	
	<link rel="stylesheet" href="../bootstrap/css/bootstrap.min.css" />
	<link href="../bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" />
</head>
<body>

<!-- HEADER -->

<div class="navbar">
    <div class="navbar-inner">
	    <div class="container">
			<a class="brand" href="../index.html">tsload 0.2.a1 documentation</a><ul class="nav pull-left">
<li><a href="workload.html"><strong>Prev</strong>(Workloads)</a></li>
</ul>
<ul class="nav pull-center">
<li><a href="index.html"><strong>Up</strong>(TSLoad Core API Reference)</a></li>
</ul>
<ul class="nav pull-center">
<li><a href="reference.html"><strong>Reference</strong></a></li>
</ul>
<ul class="nav pull-right">
<li><a href="wlparam.html"><strong>Next</strong>(Workload parameters)</a></li>
</ul>
		</div>
    </div>
</div>

<div class="container max-height no-overflow">
	<div id="content" nevow:render="content">
		<h1>Workload types</h1><h3></h3><h2>Functions</h2><a name="wl_type_register"></a><h3>wl_type_register</h3><span class="label label-success">public</span>    <p>
<br />Register TSLoad workload type (called in mod_config)<br /></p>
    <p>
<em>ARGUMENTS</em><br />        <ul>
            <li>
<strong>mod</strong> - module descriptor<br /></li>
            <li>
<strong>wlt</strong> - workload type descriptor<br /></li>
</ul>
</p>
<p>
<pre>
LIBEXPORT int wl_type_register(module_t* mod, wl_type_t* wlt)
</pre>
</p>
<a name="wl_type_unregister"></a><h3>wl_type_unregister</h3><span class="label label-success">public</span>    <p>
<br />Unregister TSLoad workload type (called in mod_unconfig)<br /></p>
    <p>
<em>ARGUMENTS</em><br />        <ul>
            <li>
<strong>mod</strong> - module descriptor<br /></li>
            <li>
<strong>wlt</strong> - workload type descriptor<br /></li>
</ul>
</p>
<p>
<pre>
LIBEXPORT int wl_type_unregister(module_t* mod, wl_type_t* wlt)
</pre>
</p>
<h2>Types</h2><a name="typedef_enum_wl_class"></a><h3>typedef enum wl_class</h3>    <p>
<br />Workload classes<br /></p>
<p>
<pre>
typedef enum wl_class {
    WLC_CPU_INTEGER         = 0x0001,
    WLC_CPU_FLOAT            = 0x0002,
    WLC_CPU_MEMORY            = 0x0004,
    WLC_CPU_MISC            = 0x0008,

    WLC_MEMORY_ALLOCATION     = 0x0010,

    WLC_FILESYSTEM_OP        = 0x0100,
    WLC_FILESYSTEM_RW        = 0x0200,
    WLC_DISK_RW                = 0x0400,

    WLC_NETWORK                = 0x1000,

    WLC_OS_BENCHMARK        = 0x10000,

    WLC_NET_CLIENT            = 0x100000
} wl_class_t;

</pre>
</p>
<a name="typedef_struct_wl_type"></a><h3>typedef struct wl_type</h3>    <p>
<br />Workload type descriptor<br /></p>
    <p>
Set up it statically in your module<br /></p>
    <p>
<em>MEMBERS</em><br />        <ul>
            <li>
<strong>wlt_name</strong> - Name of workload type (use AAS_CONST_STR for it)<br /></li>
            <li>
<strong>wlt_class</strong> - Bitmask of workload class flags<br /></li>
            <li>
<strong>wlt_params</strong> - pointer to a vector of workload/request parameter descriptors<br /></li>
            <li>
<strong>wlt_params_size</strong> - sizeof() of workload parameters structure<br /></li>
            <li>
<strong>wlt_rqparams_size</strong> - sizeof() of request parameters structure<br /></li>
            <li>
<strong>wlt_wl_config</strong> - pointer to function that configures workload<br /></li>
            <li>
<strong>wlt_wl_unconfig</strong> - pointer to function that destroyes worklaod<br /></li>
            <li>
<strong>wlt_wl_step</strong> - function that will be called at beginning of each step<br /></li>
            <li>
<strong>wlt_run_request</strong> - primary workload function that services request<br /></li>
            <li>
<strong>wlt_module</strong> - should be set to module structure passed to mod_config()<br /></li>
            <li>
<strong>wlt_next</strong> - field internally used by TSLoad, set to NULL<br /></li>
</ul>
</p>
<p>
<pre>
typedef struct wl_type {
    AUTOSTRING char* wlt_name;

    wl_class_t    wlt_class;

    wlp_descr_t* wlt_params;
    size_t          wlt_params_size;
    size_t         wlt_rqparams_size;

    wlt_wl_config_func   wlt_wl_config;
    wlt_wl_config_func   wlt_wl_unconfig;

    wlt_wl_step_func      wlt_wl_step;

    wlt_run_request_func wlt_run_request;

    module_t*            wlt_module;
    struct wl_type*     wlt_next;
} wl_type_t;

</pre>
</p>

	</div>
</div>

<!-- TAIL -->

</body>
</html>